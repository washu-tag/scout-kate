# VoilÃ  Helm chart values - rendered from Ansible
replicaCount: {{ voila_replicas }}

image:
  repository: "{{ voila_image_name }}"
  tag: "{{ voila_image_tag }}"

resources: {{ voila_resources_default | combine(voila_resources | default({}), recursive=true) | to_json }}

sparkConfigMapName: spark-defaults

playbooks: {{ voila_playbooks | to_json }}

env:
  TRINO_HOST: "trino.{{ trino_namespace }}"
  TRINO_PORT: "8080"
  TRINO_SCHEME: "http"
  TRINO_USER: "{{ trino_user }}"
  TRINO_CATALOG: "delta"
  TRINO_SCHEMA: "default"

ingress:
  enabled: true
  className: traefik
  annotations:
    traefik.ingress.kubernetes.io/router.middlewares: >-
      kube-system-oauth2-proxy-error@kubernetescrd,
      kube-system-oauth2-proxy-auth@kubernetescrd,
      kube-system-security-headers@kubernetescrd
  host: "playbooks.{{ server_hostname }}"
